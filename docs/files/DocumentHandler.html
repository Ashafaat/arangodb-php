<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>ArangoDB PHP client API</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../css/template.css" type="text/css"></link><script type="text/javascript" src="../js/jquery-1.4.2.min.js"></script><script type="text/javascript" src="../js/jquery.tools.min.js"></script><script type="text/javascript" src="../js/jquery-ui-1.8.2.custom.min.js"></script><script type="text/javascript" src="../js/template.js"></script></head><body><div id="content"><h1 class="file">DocumentHandler.php<a href="../source/DocumentHandler.php.html"><img src="../images/icons/view_source.png" alt="View Source" border="0"></img></a></h1><div id="file-nav-box"><div id="file-nav-options">
              Show:
              <img src="../images/icons/visibility_public.png" alt="Public" id="show-public"></img><img src="../images/icons/visibility_protected.png" alt="Protected" id="show-protected"></img><img src="../images/icons/visibility_private.png" alt="Private" id="show-private"></img><span class="attribute" id="show-inherited">inherited</span></div><div id="file-nav-container"><ul id="file-nav"><li><a href="#classes"><img src="../images/icons/class.png" alt="Class" height="14"></img>
                          Classes
                      </a><ul><li><a href="#\triagens\ArangoDb\DocumentHandler">\triagens\ArangoDb\DocumentHandler</a></li></ul></li></ul><div style="clear: left;"></div></div><div id="file-nav-tab">
              Table of Contents
          </div></div><a name="top" class="anchor"></a><div id="file-description"><div class="short-description">ArangoDB PHP client: document handler</div><div class="long-description"></div></div><dl class="file-info"><dt>Author</dt><dd>Jan Steemann
         
    </dd><dt>Author</dt><dd>Frank Mayer
         
    </dd><dt>Copyright</dt><dd>Copyright 2012, triagens GmbH, Cologne, Germany
         
    </dd><dt>Package</dt><dd>triagens\ArangoDb
         
    </dd></dl><a name="classes" class="anchor"></a><a id="\triagens\ArangoDb\DocumentHandler" class="anchor"></a><h2 class="class">\triagens\ArangoDb\DocumentHandler<div class="to-top"><a href="#top">jump to top</a></div></h2><div class="class"><small class="package"><b>Package: </b>triagens\ArangoDb</small><div class="short-description">A document handler that fetches documents from the server and
persists them on the server. It does so by issuing the
appropriate HTTP requests to the server.</div><div class="long-description"></div><dl class="class-info"><dt>Parent(s)</dt><dd><a href="../files/Handler.html#\triagens\ArangoDb\Handler">\triagens\ArangoDb\Handler</a></dd><dt>Children</dt><dd><a href="../files/VertexHandler.html#\triagens\ArangoDb\VertexHandler">\triagens\ArangoDb\VertexHandler</a></dd><dd><a href="../files/EdgeHandler.html#\triagens\ArangoDb\EdgeHandler">\triagens\ArangoDb\EdgeHandler</a></dd></dl><h3>Constants</h3><div><a id="\triagens\ArangoDb\DocumentHandler::ENTRY_DOCUMENTS" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">ENTRY_DOCUMENTS</span>
                = 'documents'</code><div class="description"><div class="short-description">documents array index</div></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::OPTION_COLLECTION" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">OPTION_COLLECTION</span>
                = 'collection'</code><div class="description"><div class="short-description">collection parameter</div></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::OPTION_EXAMPLE" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img> 
                <span class="highlight">OPTION_EXAMPLE</span>
                = 'example'</code><div class="description"><div class="short-description">example parameter</div></div><div class="code-tabs"><div class="long-description"></div></div><div class="clear"></div></div></div><h3>Methods</h3><div><a id="\triagens\ArangoDb\DocumentHandler::add()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">add</span><span class="nb-faded-text">(mixed $collectionId, <a href="../files/Document.html">\triagens\ArangoDb\Document</a> $document, bool | array $options = array())</span> : mixed</code><div class="description"><p class="short_description">Add a document to a collection</p></div><div class="code-tabs"><div class="long-description">This will add the document to the collection and return the document's id

This will throw if the document cannot be created</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$collectionId</th><td>mixed</td><td><em><ul>
<li>collection id as string or number</li>
</ul>
</em></td></tr><tr><th>$document</th><td><a href="../files/Document.html">\triagens\ArangoDb\Document</a></td><td><em><ul>
<li>the document to be added</li>
</ul>
</em></td></tr><tr><th>$options</th><td>bool | array</td><td><em><ul>
<li>optional, prior to v1.2.0 this was a boolean value for create. Since v1.0.0 it's an array of options.</li>
</ul>

<p>Options are :<br>
<li>'create' - create the collection if it does not yet exist.</li>
<li>'waitForSync' -  if set to true, then all removal operations will instantly be synchronised to disk / If this is not specified, then the collection's default sync behavior will be applied.</li>
</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>- id of document created</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\triagens\ArangoDb\Exception</a></td><td><em></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Deprecated</dt><dd>to be removed in version 2.0 - This function is being replaced by save()
         
    </dd></dl></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::createFromArrayWithContext()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">createFromArrayWithContext</span><span class="nb-faded-text">( $data,  $options)</span> : <a href="../files/Document.html">\triagens\ArangoDb\Document</a></code><div class="description"><p class="short_description">Intermediate function to call the createFromArray function from the right context</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$data</th><td></td><td><em></em></td></tr><tr><th>$options</th><td></td><td><em></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/Document.html">\triagens\ArangoDb\Document</a></td><td></td></tr></table></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::delete()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">delete</span><span class="nb-faded-text">(<a href="../files/Document.html">\triagens\ArangoDb\Document</a> $document, mixed $options = array())</span> : bool</code><div class="description"><p class="short_description">Delete a document from a collection, identified by the document itself</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$document</th><td><a href="../files/Document.html">\triagens\ArangoDb\Document</a></td><td><em><ul>
<li>document to be updated</li>
</ul>
</em></td></tr><tr><th>$options</th><td>mixed</td><td><em><ul>
<li>optional, array of options (see below) or the boolean value for $policy (for compatibility prior to version 1.1 of this method)</li>
</ul>

<p>Options are :
<li>'policy' - update policy to be used in case of conflict ('error', 'last' or NULL [use default])</li>
<li>'waitForSync' - can be used to force synchronisation of the document replacement operation to disk even in case that the waitForSync flag had been disabled for the entire collection</li>
</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>- always true, will throw if there is an error</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\triagens\ArangoDb\Exception</a></td><td><em></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Deprecated</dt><dd>to be removed in version 2.0 - This function is being replaced by remove()
         
    </dd></dl></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::deleteById()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">deleteById</span><span class="nb-faded-text">(mixed $collectionId, mixed $documentId, mixed $revision = null, mixed $options = array())</span> : bool</code><div class="description"><p class="short_description">Delete a document from a collection, identified by the collection id and document id</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$collectionId</th><td>mixed</td><td><em><ul>
<li>collection id as string or number</li>
</ul>
</em></td></tr><tr><th>$documentId</th><td>mixed</td><td><em><ul>
<li>document id as string or number</li>
</ul>
</em></td></tr><tr><th>$revision</th><td>mixed</td><td><em><ul>
<li>optional revision of the document to be deleted</li>
</ul>
</em></td></tr><tr><th>$options</th><td>mixed</td><td><em><ul>
<li>optional, array of options (see below) or the boolean value for $policy (for compatibility prior to version 1.1 of this method)</li>
</ul>

<p>Options are :
<li>'policy' - update policy to be used in case of conflict ('error', 'last' or NULL [use default])</li>
<li>'waitForSync' - can be used to force synchronisation of the document replacement operation to disk even in case that the waitForSync flag had been disabled for the entire collection</li>
</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>- always true, will throw if there is an error</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\triagens\ArangoDb\Exception</a></td><td><em></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Deprecated</dt><dd>to be removed in version 2.0 - This function is being replaced by removeById()
         
    </dd></dl></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::get()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">get</span><span class="nb-faded-text">(mixed $collectionId, mixed $documentId, array $options = array())</span> : <a href="../files/Document.html">\triagens\ArangoDb\Document</a></code><div class="description"><p class="short_description">Get a single document from a collection</p></div><div class="code-tabs"><div class="long-description">Alias method for getById()</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$collectionId</th><td>mixed</td><td><em><ul>
<li>collection id as a string or number</li>
</ul>
</em></td></tr><tr><th>$documentId</th><td>mixed</td><td><em><ul>
<li>document identifier</li>
</ul>
</em></td></tr><tr><th>$options</th><td>array</td><td><em><ul>
<li>optional, array of options</li>
</ul>

<p>Options are :
<li>'_includeInternals' - true to include the internal attributes. Defaults to false</li>
<li>'includeInternals' - Deprecated, please use '_includeInternals'.</li>
<li>'_ignoreHiddenAttributes' - true to show hidden attributes. Defaults to false</li>
<li>'ignoreHiddenAttributes' - Deprecated, please use '_ignoreHiddenAttributes'.</li>
</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/Document.html">\triagens\ArangoDb\Document</a></td><td>- the document fetched from the server</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\triagens\ArangoDb\Exception</a></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::getAllIds()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getAllIds</span><span class="nb-faded-text">(mixed $collectionId)</span> : array</code><div class="description"><p class="short_description">Get the list of all documents' ids from a collection</p></div><div class="code-tabs"><div class="long-description">This will throw if the list cannot be fetched from the server</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$collectionId</th><td>mixed</td><td><em><ul>
<li>collection id as string or number</li>
</ul>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>array</td><td>- ids of documents in the collection</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\triagens\ArangoDb\Exception</a></td><td><em></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Deprecated</dt><dd>to be removed in version 2.0 - This function is being replaced by  CollectionHandler::getAllIds()
         
    </dd></dl></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::getByExample()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getByExample</span><span class="nb-faded-text">(mixed $collectionId, mixed $document, bool | array $options = false)</span> : <a href="../files/cursor.html">\triagens\ArangoDb\cursor</a></code><div class="description"><p class="short_description">Get document(s) by specifying an example</p></div><div class="code-tabs"><div class="long-description">This will throw if the list cannot be fetched from the server</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$collectionId</th><td>mixed</td><td><em><ul>
<li>collection id as string or number</li>
</ul>
</em></td></tr><tr><th>$document</th><td>mixed</td><td><em><ul>
<li>the example document as a Document object or an array</li>
</ul>
</em></td></tr><tr><th>$options</th><td>bool | array</td><td><em><ul>
<li>optional, prior to v1.0.0 this was a boolean value for sanitize, since v1.0.0 it's an array of options.</li>
</ul>

<p>Options are :<br>
<li>'_sanitize' - True to remove _id and _rev attributes from result documents. Defaults to false.</li>
<li>'sanitize' - Deprecated, please use '_sanitize'.</li>
<li>'_hiddenAttributes' - Set an array of hidden attributes for created documents.
<li>'hiddenAttributes' - Deprecated, please use '_hiddenAttributes'.</li>
<p>
                                This is actually the same as setting hidden attributes using setHiddenAttributes() on a document. <br>
                                The difference is, that if you're returning a resultset of documents, the getAll() is already called <br>
                                and the hidden attributes would not be applied to the attributes.<br>
</p>
</li>
<li>'batchSize' - can optionally be used to tell the server to limit the number of results to be transferred in one batch</li>
<li>'skip' -  Optional, The number of documents to skip in the query.</li>
<li>'limit' -  Optional, The maximal amount of documents to return. 'skip' is applied before the limit restriction.</li>
</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/cursor.html">\triagens\ArangoDb\cursor</a></td><td>- Returns a cursor containing the result</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\triagens\ArangoDb\Exception</a></td><td><em></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Deprecated</dt><dd>to be removed in version 2.0 - This function is being replaced by CollectionHandler::byExample()
         
    </dd></dl></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::getById()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">getById</span><span class="nb-faded-text">(mixed $collectionId, mixed $documentId, array $options = array())</span> : <a href="../files/Document.html">\triagens\ArangoDb\Document</a></code><div class="description"><p class="short_description">Get a single document from a collection</p></div><div class="code-tabs"><div class="long-description">This will throw if the document cannot be fetched from the server</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$collectionId</th><td>mixed</td><td><em><ul>
<li>collection id as a string or number</li>
</ul>
</em></td></tr><tr><th>$documentId</th><td>mixed</td><td><em><ul>
<li>document identifier</li>
</ul>
</em></td></tr><tr><th>$options</th><td>array</td><td><em><ul>
<li>optional, array of options</li>
</ul>

<p>Options are :
<li>'_includeInternals' - true to include the internal attributes. Defaults to false</li>
<li>'includeInternals' - Deprecated, please use '_includeInternals'.</li>
<li>'_ignoreHiddenAttributes' - true to show hidden attributes. Defaults to false</li>
<li>'ignoreHiddenAttributes' - Deprecated, please use '_ignoreHiddenAttributes'.</li>
</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/Document.html">\triagens\ArangoDb\Document</a></td><td>- the document fetched from the server</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\triagens\ArangoDb\Exception</a></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::getCollectionId()" class="anchor"></a><div class="method private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">getCollectionId</span><span class="nb-faded-text">(<a href="../files/Document.html">\triagens\ArangoDb\Document</a> $document)</span> : mixed</code><div class="description"><p class="short_description">Helper function to get a collection id from a document</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$document</th><td><a href="../files/Document.html">\triagens\ArangoDb\Document</a></td><td><em><ul>
<li>document id</li>
</ul>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>- collection id, will throw if there is an error</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/ClientException.html">\triagens\ArangoDb\ClientException</a></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::getDocumentId()" class="anchor"></a><div class="method private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">getDocumentId</span><span class="nb-faded-text">(mixed $document)</span> : mixed</code><div class="description"><p class="short_description">Helper function to get a document id from a document or a document id value</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$document</th><td>mixed</td><td><em><ul>
<li>document id OR document to be updated</li>
</ul>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>- document id, will throw if there is an error</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/ClientException.html">\triagens\ArangoDb\ClientException</a></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::getRevision()" class="anchor"></a><div class="method private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img><span class="highlight">getRevision</span><span class="nb-faded-text">(mixed $document)</span> : mixed</code><div class="description"><p class="short_description">Helper function to get a document id from a document or a document id value</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$document</th><td>mixed</td><td><em><ul>
<li>document id OR document to be updated</li>
</ul>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>- document id, will throw if there is an error</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/ClientException.html">\triagens\ArangoDb\ClientException</a></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::remove()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">remove</span><span class="nb-faded-text">(<a href="../files/Document.html">\triagens\ArangoDb\Document</a> $document, mixed $options = array())</span> : bool</code><div class="description"><p class="short_description">Remove a document from a collection, identified by the document itself</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$document</th><td><a href="../files/Document.html">\triagens\ArangoDb\Document</a></td><td><em><ul>
<li>document to be removed</li>
</ul>
</em></td></tr><tr><th>$options</th><td>mixed</td><td><em><ul>
<li>optional, array of options (see below) or the boolean value for $policy (for compatibility prior to version 1.1 of this method)</li>
</ul>

<p>Options are :
<li>'policy' - update policy to be used in case of conflict ('error', 'last' or NULL [use default])</li>
<li>'waitForSync' - can be used to force synchronisation of the document removal operation to disk even in case that the waitForSync flag had been disabled for the entire collection</li>
</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>- always true, will throw if there is an error</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\triagens\ArangoDb\Exception</a></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::removeById()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">removeById</span><span class="nb-faded-text">(mixed $collectionId, mixed $documentId, mixed $revision = null, mixed $options = array())</span> : bool</code><div class="description"><p class="short_description">Remove a document from a collection, identified by the collection id and document id</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$collectionId</th><td>mixed</td><td><em><ul>
<li>collection id as string or number</li>
</ul>
</em></td></tr><tr><th>$documentId</th><td>mixed</td><td><em><ul>
<li>document id as string or number</li>
</ul>
</em></td></tr><tr><th>$revision</th><td>mixed</td><td><em><ul>
<li>optional revision of the document to be deleted</li>
</ul>
</em></td></tr><tr><th>$options</th><td>mixed</td><td><em><ul>
<li>optional, array of options (see below) or the boolean value for $policy (for compatibility prior to version 1.1 of this method)</li>
</ul>

<p>Options are :
<li>'policy' - update policy to be used in case of conflict ('error', 'last' or NULL [use default])</li>
<li>'waitForSync' - can be used to force synchronisation of the document removal operation to disk even in case that the waitForSync flag had been disabled for the entire collection</li>
</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>- always true, will throw if there is an error</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\triagens\ArangoDb\Exception</a></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::replace()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">replace</span><span class="nb-faded-text">(<a href="../files/Document.html">\triagens\ArangoDb\Document</a> $document, mixed $options = array())</span> : bool</code><div class="description"><p class="short_description">Replace an existing document in a collection, identified by the document itself</p></div><div class="code-tabs"><div class="long-description">This will update the document on the server

This will throw if the document cannot be updated

If policy is set to error (locally or globally through the ConnectionOptions)
and the passed document has a _rev value set, the database will check
that the revision of the to-be-replaced document is the same as the one given.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$document</th><td><a href="../files/Document.html">\triagens\ArangoDb\Document</a></td><td><em><ul>
<li>document to be updated</li>
</ul>
</em></td></tr><tr><th>$options</th><td>mixed</td><td><em><ul>
<li>optional, array of options (see below) or the boolean value for $policy (for compatibility prior to version 1.1 of this method)</li>
</ul>

<p>Options are :
<li>'policy' - update policy to be used in case of conflict ('error', 'last' or NULL [use default])</li>
<li>'waitForSync' - can be used to force synchronisation of the document update operation to disk even in case that the waitForSync flag had been disabled for the entire collection</li>
</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>- always true, will throw if there is an error</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\triagens\ArangoDb\Exception</a></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::replaceById()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">replaceById</span><span class="nb-faded-text">(mixed $collectionId, mixed $documentId, <a href="../files/Document.html">\triagens\ArangoDb\Document</a> $document, mixed $options = array())</span> : bool</code><div class="description"><p class="short_description">Replace an existing document in a collection, identified by collection id and document id</p></div><div class="code-tabs"><div class="long-description">This will update the document on the server

This will throw if the document cannot be Replaced

If policy is set to error (locally or globally through the ConnectionOptions)
and the passed document has a _rev value set, the database will check
that the revision of the to-be-replaced document is the same as the one given.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$collectionId</th><td>mixed</td><td><em><ul>
<li>collection id as string or number</li>
</ul>
</em></td></tr><tr><th>$documentId</th><td>mixed</td><td><em><ul>
<li>document id as string or number</li>
</ul>
</em></td></tr><tr><th>$document</th><td><a href="../files/Document.html">\triagens\ArangoDb\Document</a></td><td><em><ul>
<li>document to be updated</li>
</ul>
</em></td></tr><tr><th>$options</th><td>mixed</td><td><em><ul>
<li>optional, array of options (see below) or the boolean value for $policy (for compatibility prior to version 1.1 of this method)</li>
</ul>

<p>Options are :
<li>'policy' - update policy to be used in case of conflict ('error', 'last' or NULL [use default])</li>
<li>'waitForSync' - can be used to force synchronisation of the document replacement operation to disk even in case that the waitForSync flag had been disabled for the entire collection</li>
</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>- always true, will throw if there is an error</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\triagens\ArangoDb\Exception</a></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::save()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">save</span><span class="nb-faded-text">(mixed $collectionId, mixed $document, bool | array $options = array())</span> : mixed</code><div class="description"><p class="short_description">save a document to a collection</p></div><div class="code-tabs"><div class="long-description">This will add the document to the collection and return the document's id

This will throw if the document cannot be saved</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$collectionId</th><td>mixed</td><td><em><ul>
<li>collection id as string or number</li>
</ul>
</em></td></tr><tr><th>$document</th><td>mixed</td><td><em><ul>
<li>the document to be added, can be passed as a document or an array</li>
</ul>
</em></td></tr><tr><th>$options</th><td>bool | array</td><td><em><ul>
<li>optional, prior to v1.2.0 this was a boolean value for create. Since v1.0.0 it's an array of options.</li>
</ul>

<p>Options are :<br>
<li>'create' - create the collection if it does not yet exist.</li>
<li>'waitForSync' -  if set to true, then all removal operations will instantly be synchronised to disk / If this is not specified, then the collection's default sync behavior will be applied.</li>
</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>- id of document created</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\triagens\ArangoDb\Exception</a></td><td><em></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Since</dt><dd>1.0
         
    </dd></dl></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::store()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">store</span><span class="nb-faded-text">(<a href="../files/Document.html">\triagens\ArangoDb\Document</a> $document, mixed $collectionId = null, bool | array $options = array())</span> : mixed</code><div class="description"><p class="short_description">Store a document to a collection</p></div><div class="code-tabs"><div class="long-description">This is an alias/shortcut to save() and replace(). Instead of having to determine which of the 3 functions to use,
simply pass the document to store() and it will figure out which one to call.

This will throw if the document cannot be saved or replaced.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$document</th><td><a href="../files/Document.html">\triagens\ArangoDb\Document</a></td><td><em><ul>
<li>the document to be added, can be passed as a document or an array</li>
</ul>
</em></td></tr><tr><th>$collectionId</th><td>mixed</td><td><em><ul>
<li>collection id as string or number</li>
</ul>
</em></td></tr><tr><th>$options</th><td>bool | array</td><td><em><ul>
<li>optional, prior to v1.2.0 this was a boolean value for create. Since v1.2.0 it's an array of options.</li>
</ul>

<p>Options are :<br>
<li>'create' - create the collection if it does not yet exist.</li>
<li>'waitForSync' -  if set to true, then all removal operations will instantly be synchronised to disk / If this is not specified, then the collection's default sync behavior will be applied.</li>
</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>- id of document created</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\triagens\ArangoDb\Exception</a></td><td><em></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Since</dt><dd>1.0
         
    </dd></dl></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::update()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">update</span><span class="nb-faded-text">(<a href="../files/Document.html">\triagens\ArangoDb\Document</a> $document, mixed $options = array())</span> : bool</code><div class="description"><p class="short_description">Update an existing document in a collection, identified by the including _id and optionally _rev in the patch document.</p></div><div class="code-tabs"><div class="long-description">Attention - The behavior of this method has changed since version 1.1

This will update the document on the server

This will throw if the document cannot be updated

If policy is set to error (locally or globally through the ConnectionOptions)
and the passed document has a _rev value set, the database will check
that the revision of the document to-be-replaced is the same as the one given.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$document</th><td><a href="../files/Document.html">\triagens\ArangoDb\Document</a></td><td><em><ul>
<li>The patch document that will update the document in question</li>
</ul>
</em></td></tr><tr><th>$options</th><td>mixed</td><td><em><ul>
<li>optional, array of options (see below) or the boolean value for $policy (for compatibility prior to version 1.1 of this method)</li>
</ul>

<p>Options are :
<li>'policy' - update policy to be used in case of conflict ('error', 'last' or NULL [use default])</li>
<li>'keepNull' - can be used to instruct ArangoDB to delete existing attributes instead setting their values to null. Defaults to true (keep attributes when set to null)</li>
<li>'waitForSync' - can be used to force synchronisation of the document update operation to disk even in case that the waitForSync flag had been disabled for the entire collection</li>
</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>- always true, will throw if there is an error</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\triagens\ArangoDb\Exception</a></td><td><em></em></td></tr></table></div><div class="clear"></div></div><a id="\triagens\ArangoDb\DocumentHandler::updateById()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">updateById</span><span class="nb-faded-text">(mixed $collectionId, mixed $documentId, <a href="../files/Document.html">\triagens\ArangoDb\Document</a> $document, mixed $options = array())</span> : bool</code><div class="description"><p class="short_description">Update an existing document in a collection, identified by collection id and document id
Attention - The behavior of this method has changed since version 1.1</p></div><div class="code-tabs"><div class="long-description">This will update the document on the server

This will throw if the document cannot be updated

If policy is set to error (locally or globally through the ConnectionOptions)
and the passed document has a _rev value set, the database will check
that the revision of the document to-be-updated is the same as the one given.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$collectionId</th><td>mixed</td><td><em><ul>
<li>collection id as string or number</li>
</ul>
</em></td></tr><tr><th>$documentId</th><td>mixed</td><td><em><ul>
<li>document id as string or number</li>
</ul>
</em></td></tr><tr><th>$document</th><td><a href="../files/Document.html">\triagens\ArangoDb\Document</a></td><td><em><ul>
<li>patch document which contains the attributes and values to be updated</li>
</ul>
</em></td></tr><tr><th>$options</th><td>mixed</td><td><em><ul>
<li>optional, array of options (see below) or the boolean value for $policy (for compatibility prior to version 1.1 of this method)</li>
</ul>

<p>Options are :
<li>'policy' - update policy to be used in case of conflict ('error', 'last' or NULL [use default])</li>
<li>'keepNull' - can be used to instruct ArangoDB to delete existing attributes instead setting their values to null. Defaults to true (keep attributes when set to null)</li>
<li>'waitForSync' - can be used to force synchronisation of the document update operation to disk even in case that the waitForSync flag had been disabled for the entire collection</li>
</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>- always true, will throw if there is an error</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\triagens\ArangoDb\Exception</a></td><td><em></em></td></tr></table></div><div class="clear"></div></div></div></div></div><small class="footer">
            Documentation was generated by
            <a href="http://phpdoc.org">phpDocumentor
                2.1.0
</a>.
        </small></body></html>
